{% extends "base.html" %}

{% block title %}Zokipedia - Knowledge Base{% endblock title %}

{% block content %}
<div class="relative min-h-screen bg-gradient-to-b from-black via-bg-primary to-gray-900 overflow-hidden">
    <!-- Ambient gradient shapes -->
    <div class="pointer-events-none absolute -top-24 -left-24 w-96 h-96 bg-blue-500/20 blur-3xl rounded-full"></div>
    <div class="pointer-events-none absolute -bottom-24 -right-24 w-[28rem] h-[28rem] bg-emerald-400/10 blur-3xl rounded-full"></div>
    <div class="pointer-events-none absolute top-1/3 left-1/2 -translate-x-1/2 w-[40rem] h-40 bg-cyan-300/10 blur-3xl rounded-full"></div>

    <div class="relative z-10 max-w-6xl mx-auto px-4 py-20 sm:py-28">
        <!-- Hero -->
        <div class="mx-auto max-w-3xl text-center">
            <h1 class="text-5xl sm:text-6xl font-extrabold tracking-tight mb-4">
                <span class="bg-clip-text text-transparent bg-gradient-to-r from-blue-400 via-cyan-300 to-emerald-300">
                    Zokipedia
                </span>
            </h1>
            <p class="text-lg sm:text-xl text-gray-300/90 mb-8">
                A comprehensive collection of knowledge, remixed with a modern touch
            </p>

            <!-- Search CTA (Glass) -->
            <div class="max-w-2xl mx-auto">
                <button
                    class="w-full group px-5 sm:px-6 py-4 sm:py-5 text-left rounded-2xl bg-white/5 border border-white/10 backdrop-blur-xl shadow-2xl hover:bg-white/7 transition-all focus:outline-none focus:ring-2 focus:ring-blue-500/50 flex items-center gap-3"
                    onclick="openSearch()"
                >
                    <div class="flex h-10 w-10 items-center justify-center rounded-xl bg-blue-500/15 text-blue-300 border border-blue-400/20">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m21 21-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                        </svg>
                    </div>
                    <div class="flex-1">
                        <div class="text-gray-300 group-hover:text-gray-200 transition-colors">
                            Search for anything...
                        </div>
                        <div class="mt-1 text-xs text-gray-400 hidden sm:block">
                            Try: security, cheatsheet, networking
                        </div>
                    </div>
                    <div class="hidden sm:flex items-center gap-1 text-[11px] text-gray-300 bg-white/5 border border-white/10 px-2 py-1 rounded-lg">
                        <span>⌘</span><span>K</span>
                    </div>
                </button>
            </div>

            <!-- Quick links -->
            <div class="mt-6 sm:mt-8 flex flex-wrap items-center justify-center gap-3">
                <a href="/all-posts" class="px-4 py-2 rounded-full bg-white/5 border border-white/10 text-gray-200 hover:bg-white/10 hover:text-white transition-colors">
                    Browse all posts
                </a>
                <a href="#" onclick="openSearch(); return false;" class="px-4 py-2 rounded-full bg-white/5 border border-white/10 text-gray-200 hover:bg-white/10 hover:text-white transition-colors">
                    Quick search
                </a>
                <a href="https://github.com/hahwul/zokipedia" target="_blank" rel="noopener noreferrer" class="px-4 py-2 rounded-full bg-white/5 border border-white/10 text-gray-200 hover:bg-white/10 hover:text-white transition-colors">
                    GitHub
                </a>
            </div>
        </div>

        <!-- Recent or Featured Articles -->
        {% if section and section.pages %}
        <div class="mt-16 sm:mt-20">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-2xl sm:text-3xl font-semibold text-white">Latest knowledge</h2>
            </div>

            <div class="grid gap-4 sm:gap-5 md:grid-cols-2 lg:grid-cols-3">
                {% set_global shown_count = 0 %}
                {% for page in section.pages %}
                    {% if (not page.extra or not page.extra.hide_from_lists) and shown_count < 6 %}
                <a href="{{ page.permalink }}" class="group block p-6 rounded-2xl bg-white/5 border border-white/10 backdrop-blur-xl hover:bg-white/8 transition-all hover:-translate-y-0.5 hover:shadow-xl">
                    <h3 class="text-lg font-medium text-white mb-2 group-hover:text-blue-200 transition-colors">{{ page.title }}</h3>
                    {% if page.summary %}
                    <p class="text-gray-300/90 text-sm line-clamp-3">{{ page.summary }}</p>
                    {% elif page.description %}
                    <p class="text-gray-300/90 text-sm line-clamp-3">{{ page.description }}</p>
                    {% endif %}
                    {% if page.date %}
                    <div class="mt-3 text-xs text-gray-400">
                        {{ page.date | date(format="%B %d, %Y") }}
                    </div>
                    {% endif %}
                </a>
                        {% set_global shown_count = shown_count + 1 %}
                    {% endif %}
                {% endfor %}
            </div>
        </div>
        {% endif %}

        <!-- Navigation hint -->
        <div class="mt-14 text-center">
            <p class="text-gray-400 text-sm">
                Press <kbd class="px-2 py-1 bg-gray-800 rounded text-xs">⌘K</kbd> to search or browse articles above
            </p>
        </div>
    </div>
</div>
{% endblock content %}
