<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[Example] Lorem ipsum - Zokipedia</title>
    <meta name="description" content="Lorem ipsum 실전 가이드: 역사, 목적, 모범 사례, 접근성, 주의점, 대안, 예시까지.">

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico" sizes="48x48">

    <!-- mermaid -->
    <script src="https://zokipedia.hahwul.com/js/mermaid.min.js"></script>

    <!-- KaTeX for math rendering -->
    <link rel="stylesheet" href="https://zokipedia.hahwul.com/js/katex/katex.min.css">
    <script src="https://zokipedia.hahwul.com/js/katex/katex.min.js"></script>

    <!-- Tailwind CSS -->
    <link rel="stylesheet" href="https://zokipedia.hahwul.com/css/tailwind.min.css">

    <!-- Custom SCSS (compiled to CSS) -->
    <link href="/style.css" rel="stylesheet">

    <!-- Fuse.js for search -->
    <script src="https://zokipedia.hahwul.com/js/fuse.min.js" defer></script>

    
</head>
<body class="bg-primary text-gray-100 min-h-screen">
    
    
    
    
    
    
    <header class="fixed top-0 z-50 w-full bg-primary"
            style="height: 80px;">
        <div class="flex items-center justify-between h-full max-w-full px-4 mx-auto">
            <!-- Logo -->
            <div class="flex items-center">
                <a href="/" class="text-xl font-bold text-white hover:text-blue-400 transition-colors">
                    Zokipedia
                </a>
            </div>

            <!-- Right side: Navigation Links + Search + Sub Logo -->
            <div class="flex items-center gap-4">
                <!-- Navigation Links from config -->
                
                <nav class="hidden md:flex items-center gap-3">

                    
                    <a href="&#x2F;all-posts"
                       class="flex items-center gap-2 px-3 py-2 text-sm text-gray-300 hover:text-white transition-colors rounded-lg hover:bg-secondary"
                       >
                        
                        <span class="hidden lg:inline">All posts</span>
                    </a>
                    
                    <a href="https:&#x2F;&#x2F;github.com&#x2F;hahwul&#x2F;zokipedia"
                       class="flex items-center gap-2 px-3 py-2 text-sm text-gray-300 hover:text-white transition-colors rounded-lg hover:bg-secondary"
                       target="_blank" rel="noopener noreferrer">
                        
                        <span class="nav-icon" data-icon="github">
                            
                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                            </svg>
                            
                        </span>
                        
                        <span class="hidden lg:inline">GitHub</span>
                    </a>
                    
                </nav>

                <!-- Mobile Navigation Menu -->
                <div class="md:hidden">
                    <button id="mobile-menu-toggle" class="p-2 text-gray-300 hover:text-white transition-colors">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
                        </svg>
                    </button>
                </div>
                

                <!-- Search -->
                <div class="relative">
                    <button class="px-4 py-2 text-sm hover:border border-gray-700 rounded-full text-left text-gray-400 hover:bg-tertiary transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 flex items-center gap-3 min-w-48" onclick="openSearch()">
                        <span class="hidden sm:inline">Search...</span>
                        <svg class="w-4 h-4 sm:hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m21 21-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                        </svg>
                        <div class="hidden sm:flex items-center gap-1 text-xs px-2 py-0.5 rounded ml-auto">
                            <span>⌘</span><span>K</span>
                        </div>
                    </button>
                </div>

                <!-- Sub Logo -->
                
                <div class="flex items-center ml-2">
                    
                    <a href="https:&#x2F;&#x2F;www.hahwul.com"
                       class="flex items-center p-1 rounded-lg hover:bg-secondary transition-colors"
                       target="_blank" rel="noopener noreferrer"
                       title="Hahwul Logo">
                        <img src="https:&#x2F;&#x2F;www.hahwul.com&#x2F;images&#x2F;logo.png"
                             alt="Hahwul Logo"
                             class="rounded-md"
                             width="60"
                             height="60"
                             loading="lazy">
                    </a>
                    
                </div>
                
            </div>
        </div>

        <!-- Mobile Navigation Menu -->
        
        <div id="mobile-menu" class="hidden md:hidden bg-primary border-t border-gray-800">
            <nav class="px-4 py-3 space-y-1">
                
                <a href="&#x2F;all-posts"
                   class="flex items-center gap-3 px-3 py-2 text-sm text-gray-300 hover:text-white transition-colors rounded-lg hover:bg-secondary"
                   >
                    
                    All posts
                </a>
                
                <a href="https:&#x2F;&#x2F;github.com&#x2F;hahwul&#x2F;zokipedia"
                   class="flex items-center gap-3 px-3 py-2 text-sm text-gray-300 hover:text-white transition-colors rounded-lg hover:bg-secondary"
                   target="_blank" rel="noopener noreferrer">
                    
                    <span class="nav-icon" data-icon="github">
                        <!-- Same icon SVGs as above -->
                        
                        <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                        </svg>
                        
                    </span>
                    
                    GitHub
                </a>
                
            </nav>
        </div>
        
    </header>
    
    

    <main style="padding-top: 80px;">
        
<div class="flex">
    <!-- Table of Contents - Left Sidebar -->
    <nav class="toc-sidebar hidden lg:block w-72 fixed left-0 overflow-y-auto p-8 bg-secondary/20 backdrop-blur-sm">
        <div class="space-y-3">
            <h3 class="text-sm font-bold text-gray-300 uppercase tracking-wider mb-4">Table of Contents</h3>
            <div id="toc" class="space-y-1">
                <!-- TOC will be generated by JavaScript -->
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="flex-1 lg:ml-72">
        <article class="max-w-7xl mx-auto px-8 py-12">
            <!-- Page Header -->
            <header class="mb-12">
                
                <div class="flex items-center justify-between text-sm text-gray-400 mb-6">
                    <div>
                        
                        <span class="text-gray-300">Updated November 06, 2025</span>
                        
                    </div>


                </div>
                

                

                <h1 class="text-5xl lg:text-6xl font-black text-white mb-6 leading-tight">[Example] Lorem ipsum</h1>
                <div class="flex items-center gap-4 mt-2">
                    <select id="language-select" class="bg-transparent text-white rounded px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
                        <option value="https:&#x2F;&#x2F;zokipedia.hahwul.com&#x2F;ko&#x2F;lorem-ipsum&#x2F;" selected>KO</option>
                        
                        
                        <option value="https:&#x2F;&#x2F;zokipedia.hahwul.com&#x2F;lorem-ipsum&#x2F;">EN</option>
                        
                        
                        
                        
                    </select>
                    
                    
                    
                    
                    <a href="https:&#x2F;&#x2F;github.com&#x2F;hahwul&#x2F;zokipedia&#x2F;edit&#x2F;main&#x2F;content&#x2F;lorem-ipsum&#x2F;index.ko.md" class="text-sm text-gray-400 hover:text-white underline-offset-2 hover:underline" target="_blank" rel="noopener noreferrer">Edit this page</a>
                    
                </div>
            </header>

            <!-- Page Content -->
            <div id="page-content" class="prose prose-xl prose-invert max-w-none leading-relaxed">
                <h1 id="lorem-ipsumiran">Lorem ipsum이란?</h1>
<p>Lorem ipsum은 실제 콘텐츠가 없을 때 레이아웃, 타이포그래피, 컴포넌트를 프로토타이핑하기 위해 쓰는 플레이스홀더(더미) 텍스트입니다. 의미 있는 단어에서 오는 인지적 편향을 배제해, 시각적·구조적 의사결정(여백, 계층, 반응형 거동 등)을 카피와 분리해서 검증할 수 있게 합니다.</p>
<ul>
<li>이런 용도로 사용하세요: 그리드 테스트, 행 길이(라인 길이), 줄 간격, 폰트 페어링, 컴포넌트 브레이크포인트, 콘텐츠 흐름 점검</li>
<li>이런 용도로는 사용하지 마세요: 톤, 명확성, 전환 카피, 규정 준수 문구 검증(이건 실제 카피가 필요합니다)</li>
</ul>
<h2 id="yeogsawa-giweon">역사와 기원</h2>
<p>일반적으로 “Lorem ipsum”은 기원전 45년경 키케로의 저서 “De finibus bonorum et malorum”에서 일부를 잘라내고 순서를 섞어 만든 텍스트에서 유래했습니다. 1960년대 레트라셋(Letraset) 전사 시트를 통해 상업적으로 확산되었고, 1980년대에는 Aldus PageMaker 같은 DTP 템플릿을 통해 널리 퍼졌습니다. 이후 워드프로세서, CMS 테마, UI 키트를 거치며 라틴 문자권 레이아웃의 사실상 기본 더미 텍스트가 되었습니다.</p>
<p>“Lorem ipsum”이라는 구는 대개 “dolorem ipsum(고통 그 자체)”에서 잘려 나온 형태로 보며, 현대의 변형은 의미를 띠지 않도록 문법과 어순을 의도적으로 흐트러뜨립니다.</p>
<h2 id="timi-yeojeonhi-sayonghaneun-iyu">팀이 여전히 사용하는 이유</h2>
<ul>
<li>의미와 레이아웃의 분리: 초기 피드백이 카피가 아닌 위계/간격에 집중되도록 유도합니다.</li>
<li>텍스처 표준화: 라틴 문자권의 글자·단어 빈도를 근사해 페이지의 텍스트 컬러(시각적 밀도)를 현실적으로 재현합니다.</li>
<li>빠른 반복: 타이포 스케일, 수직 리듬, 스크롤 거동 등을 초기 단계부터 반복적으로 테스트할 수 있습니다.</li>
</ul>
<h2 id="ireon-gyeongueneun-sayonghaji-maseyo">이런 경우에는 사용하지 마세요</h2>
<p>다음 중 하나라도 해당하면 실제 콘텐츠(혹은 도메인에 맞는 현실적 텍스트)를 쓰세요.</p>
<ul>
<li>UX 카피 검증이 필요할 때(라벨, 에러, 온보딩, 가격)</li>
<li>법/컴플라이언스 텍스트가 필요한 경우(개인정보, 동의, 규제 산업)</li>
<li>현지화가 레이아웃에 영향을 줄 때(CJK, RTL, 독일어의 긴 합성어 등)</li>
<li>접근성 리뷰 범위에 스크린 리더/언어 감지가 포함될 때</li>
<li>공개 크롤링/프리뷰/SEO/애널리틱스에 노출될 때</li>
</ul>
<h2 id="jeobgeunseonggwa-gugjehwa-i18n-goryeo-sahang">접근성과 국제화(i18n) 고려 사항</h2>
<ul>
<li>언어 메타데이터: 보조기술이 읽어야 한다면 <code>lang="la"</code>로 감싸 발음을 힌트 주세요. 순수 장식이라면 <code>aria-hidden="true"</code>로 숨기되, 정보가 전혀 없을 때만 사용하세요.</li>
<li>반복 피로: 길고 반복적인 난해 텍스트는 스크린 리더 경험을 저하시킵니다. 짧고 다양한 샘플을 쓰거나 장식 목적이면 숨기세요.</li>
<li>대비와 포커스: 플레이스홀더 때문에 가독성 테스트에 필요한 대비가 낮아지지 않도록 스타일을 유지하세요.</li>
<li>RTL과 CJK: 라틴 중심 더미 텍스트로는 양방향(RTL)이나 CJK의 글꼴 메트릭 문제를 드러내기 어렵습니다. 아랍어/히브리어는 RTL 콘텐츠, 한중일은 해당 언어용 더미를 써서 줄바꿈·킨소쿠(금칙) 규칙을 검증하세요.</li>
<li>잘림과 오버플로: 긴 단어와 혼합 스크립트를 포함해 줄바꿈, 말줄임표, 오버플로 클리핑 문제를 노출하세요.</li>
</ul>
<h2 id="silmu-sayong-gaideurain">실무 사용 가이드라인</h2>
<ul>
<li>길이 타기팅: 예상 단어 수를 맞추세요(마이크로 카피 4–12단어, 문단 60–120단어). 행 길이 45–75자는 흔한 가독성 권장 범위입니다(주로 영문 기준).</li>
<li>변주: 문장 길이와 문장부호를 섞어 자연스러운 리듬과 하이픈 처리를 시뮬레이션하세요.</li>
<li>콘텐츠 토큰: 디자인 시스템에 <code>--placeholder-text-short</code>, <code>--placeholder-text-long</code>, <code>--placeholder-heading</code> 같은 토큰을 두어 컴포넌트 전반에서 샘플을 표준화하세요.</li>
<li>환경 구분: 더미 콘텐츠는 개발/스테이징에서만 보이도록 하고, “lorem ipsum”이 프로덕션에 포함되면 빌드가 실패하도록 체크를 추가하세요.</li>
</ul>
<h2 id="heunhan-hamjeonggwa-yebangbeob">흔한 함정과 예방법</h2>
<ul>
<li>플레이스홀더 출고: CI에서 “lorem”/“ipsum”을 검색해 프로덕션 번들/템플릿에 있으면 빌드를 실패시키세요.</li>
<li>테스트 오탐: 더미 문자열에 의존한 테스트는 취약합니다. 문자열 단정 대신 테스트 ID나 구조를 검증하세요.</li>
<li>잘못된 승인: 이해관계자가 시각적 위계만 보고 승인했다가, 실제 카피의 밀도 변화로 번복될 수 있습니다. 가능한 빨리 초안 카피로 교체해 리스크를 낮추세요.</li>
</ul>
<h2 id="lorem-ipsumyi-daean">Lorem ipsum의 대안</h2>
<ul>
<li>도메인 실감형 플레이스홀더: 보관본이나 익명화한 실제 도메인 텍스트(블로그 인트로, 상품 설명 등)를 사용</li>
<li>언어별 더미:
<ul>
<li>CJK: 해당 언어의 더미로 줄바꿈/문장부호 규칙 검증</li>
<li>RTL: 아랍어/히브리어로 양방향 처리와 글리프 셰이핑 확인</li>
</ul>
</li>
<li>팬그램: 서체 견본에 유용(예: “The quick brown fox …”). 문단 테스트의 대체재는 아닙니다.</li>
<li>테마형 제너레이터: “Bacon Ipsum”, “Corporate Ipsum” 등—재미용으로 내부 데모에 한정하세요.</li>
<li>콘텐츠 스켈레톤: 의미 있는 헤딩과 중립적 짧은 본문으로 구조는 유지하되 인지적 노이즈를 줄입니다.</li>
</ul>
<h2 id="yesi-mundan">예시 문단</h2>
<p>행 길이와 리듬을 평가하기 위한 중간 길이 문단(약 80–100단어):</p>
<blockquote>
<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer in commodo nibh. Sed vitae sem fermentum, posuere metus a, malesuada lacus. Quisque dictum, arcu a hendrerit consequat, leo dui ultricies est, sed lobortis massa neque non nisi. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia curae; Proin sed feugiat justo. Aliquam erat volutpat. Donec a luctus erat, quis aliquet orci. Duis viverra, nunc a placerat aliquam, sapien lorem cursus ipsum, at facilisis velit arcu in lectus.</p>
</blockquote>
<p>카드/티저용 짧은 문단(약 40–60단어):</p>
<blockquote>
<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse vitae augue vehicula, condimentum odio ut, sodales urna. Donec pulvinar, velit at euismod suscipit, lacus nunc blandit risus, a faucibus massa arcu et nunc.</p>
</blockquote>
<p>리스트/빈 상태용 스니펫:</p>
<ul>
<li>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</li>
<li>Curabitur non risus nec magna iaculis placerat.</li>
<li>Vivamus posuere sapien et urna congue, nec dictum leo pretium.</li>
</ul>
<h2 id="giliwa-ilggi-sigan-cujeong">길이와 읽기 시간 추정</h2>
<ul>
<li>대략적 단어 수: 단어 수 ≈ 문자 수 / 5 (영어 유사 텍스트 기준)</li>
<li>대략적 읽기 시간: 분 ≈ 단어 수 / 200 (성인 평균 묵독 속도)</li>
</ul>
<p>이 지표는 블록 크기 산정에만 쓰고, 출고 전에는 반드시 실제 카피로 검증하세요.</p>
<h2 id="seowa-bunseog-wisaeng">SEO와 분석 위생</h2>
<ul>
<li>인덱싱 제외: 비프로덕션/프리뷰 경로에는 <code>noindex</code>/<code>nofollow</code>를 적용하세요.</li>
<li>공유 카드: 오픈 그래프/트위터 카드에 플레이스홀더가 노출되지 않게 하세요.</li>
<li>사이트맵: 플레이스홀더 페이지는 프로덕션 사이트맵에 포함하지 마세요.</li>
</ul>
<h2 id="tim-cekeuriseuteu">팀 체크리스트</h2>
<p>Do:</p>
<ul>
<li>사용자 테스트 전에 플레이스홀더를 초안 콘텐츠로 교체하세요.</li>
<li>보조기술 대상이면 <code>lang</code>을 적절히 지정하거나 장식용은 숨기세요.</li>
<li>“lorem ipsum”의 프로덕션 유출을 막는 CI 체크를 추가하세요.</li>
</ul>
<p>Don’t:</p>
<ul>
<li>결제/동의 등 핵심 플로우를 플레이스홀더로 승인하지 마세요.</li>
<li>비라틴 레이아웃에 라틴 기반 더미만 의존하지 마세요.</li>
<li>분석 실험이나 A/B 테스트에 플레이스홀더를 사용하지 마세요.</li>
</ul>
<h2 id="ratineo-bonmun-yesi">라틴어 본문 예시</h2>
<p>서체/타이포 견본에 자주 쓰는 표준 블록:</p>
<blockquote>
<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
</blockquote>
<h2 id="susig-demo-taipogeuraepi-rendeoring">수식 데모(타이포그래피 렌더링)</h2>
<p>아래 수식은 레이아웃에서 수학 렌더링을 점검하기 위한 예시입니다.</p>
<span class="math-block">\sum_{i=0}^{n} r^i = \frac{r^{n+1} - 1}{r - 1} \quad \text{단, } r \neq 1</span>

            </div>

            <!-- Navigation -->
            
        </article>
    </div>
</div>

<!-- Mobile TOC Toggle -->
<button id="mobile-toc-toggle" class="lg:hidden fixed bottom-8 right-8 bg-gradient-to-r from-blue-600 to-blue-700 text-white p-4 rounded-full shadow-2xl hover:shadow-blue-500/30 hover:scale-110 transition-all duration-300 z-50">
    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
    </svg>
</button>

<!-- Mobile TOC Overlay -->
<div id="mobile-toc" class="lg:hidden fixed inset-0 bg-black/60 backdrop-blur-sm z-40 hidden">
    <div class="fixed right-0 top-0 h-full w-80 bg-secondary/95 backdrop-blur-md border-l border-gray-700/50 p-8 overflow-y-auto">
        <div class="flex justify-between items-center mb-8">
            <h3 class="text-lg font-bold text-gray-300 uppercase tracking-wider">Table of Contents</h3>
            <button id="close-mobile-toc" class="text-gray-400 hover:text-white p-2 rounded-full hover:bg-gray-700/50 transition-colors">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                </svg>
            </button>
        </div>
        <div id="mobile-toc-content" class="space-y-1">
            <!-- TOC content will be duplicated here -->
        </div>
    </div>
</div>

<script>
    // Language Switcher
    const languageSelect = document.getElementById('language-select');
    if (languageSelect) {
        languageSelect.addEventListener('change', function() {
            window.location.href = this.value;
        });
    }

    // Generate Table of Contents
    function generateTOC() {
        const content = document.getElementById('page-content');
        const toc = document.getElementById('toc');
        const mobileTocContent = document.getElementById('mobile-toc-content');

        if (!content || !toc) {
            return;
        }

        const headings = content.querySelectorAll('h1, h2, h3, h4, h5, h6');

        if (headings.length === 0) {
            return;
        }

        let tocHTML = '';

        headings.forEach((heading, index) => {
            // Create ID if not exists
            if (!heading.id) {
                heading.id = heading.textContent.toLowerCase()
                    .replace(/[^a-z0-9]+/g, '-')
                    .replace(/(^-|-$)/g, '');
            }

            const level = parseInt(heading.tagName.charAt(1));
            const indent = (level - 1) * 12;

            tocHTML += `
                <a href="#${heading.id}"
                   class="toc-link relative block rounded-lg hover:text-white transition-all duration-200"
                   style="margin-left: ${indent}px; padding-left: calc(${indent}px + 12px)"
                   data-heading="${heading.id}">
                    ${heading.textContent}
                </a>
            `;
        });

        toc.innerHTML = tocHTML;
        if (mobileTocContent) {
            mobileTocContent.innerHTML = tocHTML;
        }

        // Add click handlers for TOC links
        document.querySelectorAll('.toc-link').forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const targetId = link.getAttribute('href').substring(1);
                const targetElement = document.getElementById(targetId);
                if (targetElement) {
                    targetElement.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });

                    // Close mobile TOC if open
                    const mobileTocModal = document.getElementById('mobile-toc');
                    if (mobileTocModal) {
                        mobileTocModal.classList.add('hidden');
                    }

                    // Update highlight after scroll
                    setTimeout(() => {
                        highlightCurrentSection();
                    }, 500);
                }
            });
        });
    }

    // Highlight current section in TOC
    function highlightCurrentSection() {
        const headings = document.querySelectorAll('#page-content h1, #page-content h2, #page-content h3, #page-content h4, #page-content h5, #page-content h6');
        const tocLinks = document.querySelectorAll('.toc-link');

        if (headings.length === 0 || tocLinks.length === 0) {
            return;
        }

        let currentHeading = null;
        let closestDistance = Infinity;

        // Find the heading closest to the top of the viewport
        headings.forEach(heading => {
            const rect = heading.getBoundingClientRect();
            const distance = Math.abs(rect.top - 120); // Account for header height

            if (rect.top <= 160 && distance < closestDistance) {
                closestDistance = distance;
                currentHeading = heading.id;
            }
        });

        // If no heading is above the fold, highlight the first one when we're at the top
        if (!currentHeading && headings.length > 0) {
            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            if (scrollTop < 200) {
                currentHeading = headings[0].id;
            }
        }

        // Update TOC links
        tocLinks.forEach(link => {
            const headingId = link.getAttribute('data-heading');
            if (headingId === currentHeading) {
                link.classList.add('active');
            } else {
                link.classList.remove('active');
            }
        });
    }

    // Mobile TOC functionality
    const mobileTocToggle = document.getElementById('mobile-toc-toggle');
    const mobileToc = document.getElementById('mobile-toc');
    const closeMobileToc = document.getElementById('close-mobile-toc');

    if (mobileTocToggle) {
        mobileTocToggle.addEventListener('click', () => {
            mobileToc.classList.remove('hidden');
        });
    }

    if (closeMobileToc) {
        closeMobileToc.addEventListener('click', () => {
            mobileToc.classList.add('hidden');
        });
    }

    // Close mobile TOC when clicking overlay
    if (mobileToc) {
        mobileToc.addEventListener('click', (e) => {
            if (e.target === mobileToc) {
                mobileToc.classList.add('hidden');
            }
        });
    }

    // Initialize
    document.addEventListener('DOMContentLoaded', () => {
        generateTOC();

        // Initial highlight
        setTimeout(() => {
            highlightCurrentSection();
        }, 100);

        // Update TOC highlight on scroll with throttling
        let scrollTimeout;
        window.addEventListener('scroll', () => {
            if (scrollTimeout) {
                clearTimeout(scrollTimeout);
            }
            scrollTimeout = setTimeout(highlightCurrentSection, 50);
        });

        // Update on resize
        window.addEventListener('resize', highlightCurrentSection);
    });
</script>

    </main>

    <!-- Search Modal -->
    <div id="search-modal" class="fixed inset-0 bg-transparent bg-opacity-70 backdrop-blur-sm z-50 hidden">
        <div class="flex items-start justify-center min-h-screen pt-16 px-4">
            <div id="search-modal-panel" class="bg-primary border border-gray-700 rounded-lg w-full max-w-2xl shadow-xl">
                <div class="p-4 border-b border-gray-700">
                    <div class="relative">
                        <input
                            type="text"
                            id="modal-search-input"
                            placeholder="Search for anything..."
                            class="w-full px-4 py-3 text-lg bg-black from-secondary/90 via-secondary/80 to-tertiary/70 backdrop-blur-md border border-gray-500/50 rounded-lg text-gray-100 hover:from-secondary hover:to-tertiary hover:shadow-2xl hover:shadow-blue-500/20 transition-all duration-500 ease-out focus:outline-none focus:ring-4 focus:ring-blue-500/60 placeholder-gray-400"
                            autofocus
                        >
                        <div class="absolute inset-y-0 right-0 flex items-center pr-4">
                            <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m21 21-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                            </svg>
                        </div>
                    </div>
                </div>
                <div id="modal-search-results" class="max-h-96 overflow-y-auto">
                    <div class="p-4 text-gray-400 text-center">
                        Start typing to search...
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Search functionality -->
    
    
    
    <script defer src="https://zokipedia.hahwul.com/search_index.ko.js"></script>
    <script defer src="https://zokipedia.hahwul.com/search_index.js"></script>
    <script>
        // Search functionality (Fuse.js)
        let fuse;
        let searchIndex = [];

        async function loadSearchIndex() {
            // Use preloaded window.searchIndex if available
            if (Array.isArray(window.searchIndex) && window.searchIndex.length) {
                return normalizeIndex(window.searchIndex);
            }
            const candidates = [
                "https://zokipedia.hahwul.com/search_index.ko.json",
                "https://zokipedia.hahwul.com/search_index.ko.js",
                "https://zokipedia.hahwul.com/search_index.json",
                "https://zokipedia.hahwul.com/search_index.js"
            ];

            for (const url of candidates) {
                try {
                    const res = await fetch(url, { cache: 'no-store' });
                    if (!res.ok) continue;

                    if (url.endsWith('.json')) {
                        const data = await res.json();
                        return normalizeIndex(data);
                    } else {
                        const text = await res.text();
                        // window.searchIndex = [...]
                        let m = text.match(/window\.searchIndex\s*=\s*(\[.*?\]);/s);
                        if (m) return normalizeIndex(JSON.parse(m[1]));
                        // var/let/const searchIndex = [...]
                        m = text.match(/(?:var|let|const)\s+searchIndex\s*=\s*(\[.*?\]);/s);
                        if (m) return normalizeIndex(JSON.parse(m[1]));
                        // searchIndex = JSON.parse('...')
                        m = text.match(/searchIndex\s*=\s*JSON\.parse\(\s*(['"])([\s\S]*?)\1\s*\)/s);
                        if (m) return normalizeIndex(JSON.parse(m[2]));
                    }
                } catch (_) {
                    // try next candidate
                }
            }
            return [];
        }

        function normalizeIndex(raw) {
            if (!Array.isArray(raw)) return [];
            return raw.map(d => ({
                title: d.title || d.name || '',
                permalink: d.permalink || d.path || d.url || '#',
                description: d.description || d.summary || '',
                body: d.body || d.content || ''
            }));
        }

        function initFuse(docs) {
            searchIndex = docs;
            fuse = new Fuse(searchIndex, {
                includeScore: true,
                threshold: 0.3,
                minMatchCharLength: 2,
                keys: [
                    { name: 'title', weight: 0.6 },
                    { name: 'description', weight: 0.3 },
                    { name: 'body', weight: 1.0 }
                ]
            });
        }

        // Kick off loading (wait for Fuse to be available)
        function whenFuseReady(cb) {
            if (window.Fuse) return cb();
            const start = Date.now();
            (function check() {
                if (window.Fuse) return cb();
                if (Date.now() - start > 5000) return cb(); // timeout after 5s to avoid blocking
                setTimeout(check, 30);
            })();
        }
        function bootSearch() {
            whenFuseReady(() => {
                // Prefer preloaded window.searchIndex if it appears shortly
                const start = Date.now();
                (function waitForWindowIndex() {
                    if (Array.isArray(window.searchIndex) && window.searchIndex.length) {
                        initFuse(normalizeIndex(window.searchIndex));
                        return;
                    }
                    if (Date.now() - start > 5000) {
                        // Fallback to fetching
                        loadSearchIndex().then(initFuse);
                        return;
                    }
                    setTimeout(waitForWindowIndex, 30);
                })();
            });
        }
        bootSearch();

        // Modal functionality
                const searchModal = document.getElementById('search-modal');
                const modalSearchInput = document.getElementById('modal-search-input');
                const modalSearchResults = document.getElementById('modal-search-results');
                let suppressOutsideCloseUntil = 0;

        function openSearch(e) {
            if (e) {
                e.preventDefault();
                e.stopPropagation();
            }
            // Delay opening to avoid being closed by the same click event that triggered it
            suppressOutsideCloseUntil = Date.now() + 200;
            setTimeout(() => {
                searchModal.classList.remove('hidden');
                setTimeout(() => modalSearchInput.focus(), 100);
            }, 0);
        }

        function closeSearch() {
            searchModal.classList.add('hidden');
            modalSearchInput.value = '';
            modalSearchResults.innerHTML = '<div class="p-4 text-gray-400 text-center">Start typing to search...</div>';
        }

        // Keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            if ((e.metaKey || e.ctrlKey) && e.key.toLowerCase() === 'k') {
                e.preventDefault();
                openSearch(e);
            }
            if (e.key === 'Escape') {
                closeSearch();
            }
        });

        // Modal click outside to close

        document.addEventListener('click', function(e) {
            if (Date.now() < suppressOutsideCloseUntil) return;
            if (!searchModal.classList.contains('hidden')) {
                const panel = document.getElementById('search-modal-panel');
                if (panel && !panel.contains(e.target)) {
                    closeSearch();
                }
            }
        });

        // Search input handler
        modalSearchInput.addEventListener('input', function(e) {
            const query = e.target.value.trim();

            if (query.length < 2) {
                modalSearchResults.innerHTML = '<div class="p-4 text-gray-400 text-center">Start typing to search...</div>';
                return;
            }

            if (!fuse) {
                modalSearchResults.innerHTML = '<div class="p-4 text-gray-400 text-center">Search index loading...</div>';
                return;
            }

            const results = fuse.search(query, { limit: 10 });
            displayModalSearchResults(results);
        });

        function escapeHtml(str) {
            return str.replace(/[&<>"']/g, s => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[s]));
        }

        function displayModalSearchResults(results) {
            if (results.length === 0) {
                modalSearchResults.innerHTML = '<div class="p-4 text-gray-400 text-center">No results found.</div>';
                return;
            }

            const html = results.map(result => {
                const item = result.item;
                const rawExcerpt = item.description || item.body || '';
                const excerpt = rawExcerpt.substring(0, 200) + (rawExcerpt.length > 200 ? '...' : '');
                return `
                    <a href="${item.permalink}" class="block p-4 hover:bg-gray-700 border-b border-gray-700 last:border-b-0 transition-colors">
                        <div class="font-semibold text-white mb-1">${escapeHtml(item.title)}</div>
                        <div class="text-sm text-gray-400 leading-relaxed">${escapeHtml(excerpt)}</div>
                    </a>
                `;
            }).join('');

            modalSearchResults.innerHTML = html;
        }

        // Keyboard navigation in modal
        let selectedIndex = -1;

        modalSearchInput.addEventListener('keydown', function(e) {
            const items = modalSearchResults.querySelectorAll('a');

            if (e.key === 'ArrowDown') {
                e.preventDefault();
                selectedIndex = Math.min(selectedIndex + 1, items.length - 1);
                updateModalSelection(items);
            } else if (e.key === 'ArrowUp') {
                e.preventDefault();
                selectedIndex = Math.max(selectedIndex - 1, -1);
                updateModalSelection(items);
            } else if (e.key === 'Enter' && selectedIndex >= 0 && items[selectedIndex]) {
                e.preventDefault();
                items[selectedIndex].click();
            }
        });

        function updateModalSelection(items) {
            items.forEach((item, index) => {
                if (index === selectedIndex) {
                    item.classList.add('bg-gray-700');
                } else {
                    item.classList.remove('bg-gray-700');
                }
            });
        }

        // Mobile menu functionality
        const mobileMenuToggle = document.getElementById('mobile-menu-toggle');
        const mobileMenu = document.getElementById('mobile-menu');

        if (mobileMenuToggle && mobileMenu) {
            mobileMenuToggle.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
            });

            // Close mobile menu when clicking outside
            document.addEventListener('click', (e) => {
                if (!mobileMenuToggle.contains(e.target) && !mobileMenu.contains(e.target)) {
                    mobileMenu.classList.add('hidden');
                }
            });
        }
    </script>
    <script>
        // Mermaid initialization
        mermaid.initialize({
            startOnLoad: true,
            theme: 'dark'
        });
    </script>
    <script>
        // KaTeX manual rendering for math blocks
        document.addEventListener("DOMContentLoaded", function() {
            // Wait for KaTeX to be available
            if (typeof katex === 'undefined') {
                console.error('KaTeX is not loaded');
                return;
            }
            
            // Render display math blocks (created by math shortcode)
            document.querySelectorAll('.math-block').forEach(function(element) {
                try {
                    katex.render(element.textContent, element, {
                        displayMode: true,
                        throwOnError: false
                    });
                } catch (e) {
                    console.error('KaTeX render error:', e);
                }
            });
            
            // Render inline math with $ delimiters
            function renderInlineMath(node) {
                if (node.nodeType === Node.TEXT_NODE) {
                    const text = node.textContent;
                    const regex = /\$([^\$]+)\$/g;
                    if (regex.test(text)) {
                        const span = document.createElement('span');
                        let lastIndex = 0;
                        text.replace(regex, function(match, tex, offset) {
                            span.appendChild(document.createTextNode(text.slice(lastIndex, offset)));
                            const mathSpan = document.createElement('span');
                            try {
                                katex.render(tex, mathSpan, {displayMode: false, throwOnError: false});
                            } catch (e) {
                                mathSpan.textContent = match;
                            }
                            span.appendChild(mathSpan);
                            lastIndex = offset + match.length;
                        });
                        span.appendChild(document.createTextNode(text.slice(lastIndex)));
                        node.parentNode.replaceChild(span, node);
                    }
                } else if (node.nodeType === Node.ELEMENT_NODE && node.tagName !== 'SCRIPT' && node.tagName !== 'STYLE') {
                    Array.from(node.childNodes).forEach(renderInlineMath);
                }
            }
            
            // Process inline math in content
            const content = document.querySelector('main');
            if (content) {
                renderInlineMath(content);
            }
        });
    </script>

    

    
    <footer class="bg-primary mt-16 text-gray-400">
        <div class="max-w-7xl mx-auto px-4 py-8 text-right">
            
            <nav class="flex flex-wrap gap-x-4 gap-y-2 text-sm mb-4 justify-end">
                
                
                <a href="&#x2F;terms" class="hover:text-gray-200 underline-offset-2 hover:underline"
                   >
                    Terms of Service
                </a>
                
                
                
                <a href="&#x2F;privacy" class="hover:text-gray-200 underline-offset-2 hover:underline"
                   >
                    Privacy Policy
                </a>
                
                
                
                <a href="&#x2F;contact" class="hover:text-gray-200 underline-offset-2 hover:underline"
                   >
                    Contact
                </a>
                
                
            </nav>
            

            <div class="text-xs text-gray-500 text-right">
                
                    © HAHWUL. All rights reserved.
                
            </div>
        </div>
    </footer>
    
</body>
</html>
