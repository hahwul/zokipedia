<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[Example] Lorem ipsum - Zokipedia</title>
    <meta name="description" content="A practical guide to Lorem ipsum: history, purpose, best practices, accessibility, pitfalls, alternatives, and examples.">

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico" sizes="48x48">

    <!-- mermaid -->
    <script src="https://zokipedia.hahwul.com/js/mermaid.min.js"></script>

    <!-- KaTeX for math rendering -->
    <link rel="stylesheet" href="https://zokipedia.hahwul.com/js/katex/katex.min.css">
    <script src="https://zokipedia.hahwul.com/js/katex/katex.min.js"></script>

    <!-- Tailwind CSS -->
    <link rel="stylesheet" href="https://zokipedia.hahwul.com/css/tailwind.min.css">

    <!-- Custom SCSS (compiled to CSS) -->
    <link href="/style.css" rel="stylesheet">

    <!-- Fuse.js for search -->
    <script src="https://zokipedia.hahwul.com/js/fuse.min.js" defer></script>

    
</head>
<body class="bg-primary text-gray-100 min-h-screen">
    
    
    
    
    
    
    <header class="fixed top-0 z-50 w-full bg-primary"
            style="height: 80px;">
        <div class="flex items-center justify-between h-full max-w-full px-4 mx-auto">
            <!-- Logo -->
            <div class="flex items-center">
                <a href="/" class="text-xl font-bold text-white hover:text-blue-400 transition-colors">
                    Zokipedia
                </a>
            </div>

            <!-- Right side: Navigation Links + Search + Sub Logo -->
            <div class="flex items-center gap-4">
                <!-- Navigation Links from config -->
                
                <nav class="hidden md:flex items-center gap-3">

                    
                    <a href="&#x2F;all-posts"
                       class="flex items-center gap-2 px-3 py-2 text-sm text-gray-300 hover:text-white transition-colors rounded-lg hover:bg-secondary"
                       >
                        
                        <span class="hidden lg:inline">All posts</span>
                    </a>
                    
                    <a href="https:&#x2F;&#x2F;github.com&#x2F;hahwul&#x2F;zokipedia"
                       class="flex items-center gap-2 px-3 py-2 text-sm text-gray-300 hover:text-white transition-colors rounded-lg hover:bg-secondary"
                       target="_blank" rel="noopener noreferrer">
                        
                        <span class="nav-icon" data-icon="github">
                            
                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                            </svg>
                            
                        </span>
                        
                        <span class="hidden lg:inline">GitHub</span>
                    </a>
                    
                </nav>

                <!-- Mobile Navigation Menu -->
                <div class="md:hidden">
                    <button id="mobile-menu-toggle" class="p-2 text-gray-300 hover:text-white transition-colors">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
                        </svg>
                    </button>
                </div>
                

                <!-- Search -->
                <div class="relative">
                    <button class="px-4 py-2 text-sm hover:border border-gray-700 rounded-full text-left text-gray-400 hover:bg-tertiary transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 flex items-center gap-3 min-w-48" onclick="openSearch()">
                        <span class="hidden sm:inline">Search...</span>
                        <svg class="w-4 h-4 sm:hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m21 21-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                        </svg>
                        <div class="hidden sm:flex items-center gap-1 text-xs px-2 py-0.5 rounded ml-auto">
                            <span>⌘</span><span>K</span>
                        </div>
                    </button>
                </div>

                <!-- Sub Logo -->
                
                <div class="flex items-center ml-2">
                    
                    <a href="https:&#x2F;&#x2F;www.hahwul.com"
                       class="flex items-center p-1 rounded-lg hover:bg-secondary transition-colors"
                       target="_blank" rel="noopener noreferrer"
                       title="Hahwul Logo">
                        <img src="https:&#x2F;&#x2F;www.hahwul.com&#x2F;images&#x2F;logo.png"
                             alt="Hahwul Logo"
                             class="rounded-md"
                             width="60"
                             height="60"
                             loading="lazy">
                    </a>
                    
                </div>
                
            </div>
        </div>

        <!-- Mobile Navigation Menu -->
        
        <div id="mobile-menu" class="hidden md:hidden bg-primary border-t border-gray-800">
            <nav class="px-4 py-3 space-y-1">
                
                <a href="&#x2F;all-posts"
                   class="flex items-center gap-3 px-3 py-2 text-sm text-gray-300 hover:text-white transition-colors rounded-lg hover:bg-secondary"
                   >
                    
                    All posts
                </a>
                
                <a href="https:&#x2F;&#x2F;github.com&#x2F;hahwul&#x2F;zokipedia"
                   class="flex items-center gap-3 px-3 py-2 text-sm text-gray-300 hover:text-white transition-colors rounded-lg hover:bg-secondary"
                   target="_blank" rel="noopener noreferrer">
                    
                    <span class="nav-icon" data-icon="github">
                        <!-- Same icon SVGs as above -->
                        
                        <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                        </svg>
                        
                    </span>
                    
                    GitHub
                </a>
                
            </nav>
        </div>
        
    </header>
    
    

    <main style="padding-top: 80px;">
        
<div class="flex">
    <!-- Table of Contents - Left Sidebar -->
    <nav class="toc-sidebar hidden lg:block w-72 fixed left-0 overflow-y-auto p-8 bg-secondary/20 backdrop-blur-sm">
        <div class="space-y-3">
            <h3 class="text-sm font-bold text-gray-300 uppercase tracking-wider mb-4">Table of Contents</h3>
            <div id="toc" class="space-y-1">
                <!-- TOC will be generated by JavaScript -->
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="flex-1 lg:ml-72">
        <article class="max-w-7xl mx-auto px-8 py-12">
            <!-- Page Header -->
            <header class="mb-12">
                
                <div class="flex items-center justify-between text-sm text-gray-400 mb-6">
                    <div>
                        
                        <span class="text-gray-300">Updated November 06, 2025</span>
                        
                    </div>


                </div>
                

                

                <h1 class="text-5xl lg:text-6xl font-black text-white mb-6 leading-tight">[Example] Lorem ipsum</h1>
                <div class="flex items-center gap-4 mt-2">
                    <select id="language-select" class="bg-transparent text-white rounded px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
                        <option value="https:&#x2F;&#x2F;zokipedia.hahwul.com&#x2F;lorem-ipsum&#x2F;" selected>EN</option>
                        
                        
                        
                        
                        <option value="https:&#x2F;&#x2F;zokipedia.hahwul.com&#x2F;ko&#x2F;lorem-ipsum&#x2F;">KO</option>
                        
                        
                    </select>
                    
                    
                    
                    
                    <a href="https:&#x2F;&#x2F;github.com&#x2F;hahwul&#x2F;zokipedia&#x2F;edit&#x2F;main&#x2F;content&#x2F;lorem-ipsum&#x2F;index.md" class="text-sm text-gray-400 hover:text-white underline-offset-2 hover:underline" target="_blank" rel="noopener noreferrer">Edit this page</a>
                    
                </div>
            </header>

            <!-- Page Content -->
            <div id="page-content" class="prose prose-xl prose-invert max-w-none leading-relaxed">
                <h1 id="what-is-lorem-ipsum">What is Lorem ipsum?</h1>
<p>Lorem ipsum is a placeholder (dummy) text used to prototype layouts, typography, and components before real content is available. It lets designers and engineers separate visual and structural decisions from editorial decisions, so spacing, rhythm, and responsiveness can be validated without cognitive bias from meaningful words.</p>
<ul>
<li>Use it to: test grids, line-length, line-height, font pairing, component breakpoints, and content flow.</li>
<li>Don’t use it to: validate tone, clarity, conversion copy, or compliance language (you need real copy for that).</li>
</ul>
<h2 id="history-and-origin">History and origin</h2>
<p>The text commonly known as “Lorem ipsum” is derived—via truncation and scrambling—from Cicero’s 45 BCE work “De finibus bonorum et malorum.” Commercial use surged in the 1960s with Letraset transfer sheets, then spread widely in the 1980s through desktop publishing templates (e.g., Aldus PageMaker). It later appeared in word processors, CMS themes, and UI kits, becoming the de facto filler for Latin-script layouts.</p>
<p>The phrase “Lorem ipsum” is generally considered a clipping of “dolorem ipsum” (“pain itself”). Modern variants intentionally corrupt grammar and word order to avoid conveying meaningful Latin.</p>
<h2 id="why-teams-still-use-it">Why teams still use it</h2>
<ul>
<li>Decouples layout from meaning: prevents early feedback from fixating on copy instead of hierarchy and spacing.</li>
<li>Normalizes texture: approximates word/letter frequency of Latin-script languages to represent realistic text color (visual density) on a page.</li>
<li>Enables faster iteration: allows early, repeatable tests of typographic scale, vertical rhythm, and scroll behavior.</li>
</ul>
<h2 id="when-not-to-use-it">When not to use it</h2>
<p>Use real content—or realistic domain text—when any of the following are true:</p>
<ul>
<li>You’re validating UX copy (labels, errors, onboarding, pricing).</li>
<li>Legal/compliance text is required (privacy, consent, regulated industries).</li>
<li>Localization affects layout (e.g., CJK, RTL, long German compounds).</li>
<li>Accessibility reviews are in scope (screen reader behavior, language detection).</li>
<li>Analytics, SEO, or preview cards will be crawled or shared publicly.</li>
</ul>
<h2 id="accessibility-and-i18n-considerations">Accessibility and i18n considerations</h2>
<ul>
<li>Language metadata: If placeholder text must be read by assistive tech, wrap it in an element with <code>lang="la"</code> to hint pronunciation. If the text is purely decorative, mark it <code>aria-hidden="true"</code>—but only when it conveys no information.</li>
<li>Repetition fatigue: Large, repeated gibberish blocks can degrade screen reader experience; prefer short, varied samples or hide decorative fillers.</li>
<li>Contrast and focus: Placeholder text should not be styled in a way that reduces contrast required for readability testing.</li>
<li>RTL and CJK: Latin-centric filler won’t expose bidirectional or glyph metrics issues. For Arabic/Hebrew, test with RTL content. For CJK, use language-appropriate placeholder text to validate line breaking and kinsoku rules.</li>
<li>Truncation and overflow: Use realistic long words and mixed scripts to expose line-wrapping, ellipsis, and overflow clipping.</li>
</ul>
<h2 id="practical-usage-guidelines">Practical usage guidelines</h2>
<ul>
<li>Length targeting: Match expected word counts (e.g., microcopy 4–12 words, paragraphs 60–120 words) to verify line length (45–75 characters per line is a common reading comfort range).</li>
<li>Variation: Mix sentence lengths and punctuation to simulate natural rhythm and hyphenation.</li>
<li>Content tokens: In design systems, expose tokens like <code>--placeholder-text-short</code>, <code>--placeholder-text-long</code>, and <code>--placeholder-heading</code> to standardize samples across components.</li>
<li>Environments: Ensure placeholder content appears only in development/staging. Add build checks to fail if “lorem ipsum” ships to production.</li>
</ul>
<h2 id="pitfalls-and-how-to-avoid-them">Pitfalls and how to avoid them</h2>
<ul>
<li>Shipping placeholder text: Add CI rules that search for “lorem”/“ipsum” and break the build when found in production bundles or templates.</li>
<li>False positives in tests: If tests assert against placeholder strings, they may become brittle. Prefer test IDs or structural assertions.</li>
<li>Misleading approvals: Stakeholders may approve visual hierarchy but later reject final copy that changes density. Reduce risk by swapping in real draft copy as early as possible.</li>
</ul>
<h2 id="alternatives-to-lorem-ipsum">Alternatives to Lorem ipsum</h2>
<ul>
<li>Domain-realistic placeholders: Use archived or anonymized text from your domain (e.g., blog intros, product blurbs).</li>
<li>Language-specific fillers:
<ul>
<li>CJK: language-appropriate filler to test line breaking and punctuation rules.</li>
<li>RTL: Arabic/Hebrew text to verify bidi handling and glyph shaping.</li>
</ul>
</li>
<li>Pangrams: Useful for type specimen (e.g., “The quick brown fox…”). Not a substitute for paragraph testing.</li>
<li>Themed generators: “Bacon Ipsum,” “Corporate Ipsum,” etc.—fun but best kept to internal demos.</li>
<li>Content skeletons: Use meaningful headings with short neutral body text to reduce cognitive noise while keeping structure realistic.</li>
</ul>
<h2 id="example-paragraphs">Example paragraphs</h2>
<p>A medium paragraph (approx. 80–100 words) to assess line-length and rhythm:</p>
<blockquote>
<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer in commodo nibh. Sed vitae sem fermentum, posuere metus a, malesuada lacus. Quisque dictum, arcu a hendrerit consequat, leo dui ultricies est, sed lobortis massa neque non nisi. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia curae; Proin sed feugiat justo. Aliquam erat volutpat. Donec a luctus erat, quis aliquet orci. Duis viverra, nunc a placerat aliquam, sapien lorem cursus ipsum, at facilisis velit arcu in lectus.</p>
</blockquote>
<p>A short paragraph (approx. 40–60 words) for cards or teasers:</p>
<blockquote>
<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse vitae augue vehicula, condimentum odio ut, sodales urna. Donec pulvinar, velit at euismod suscipit, lacus nunc blandit risus, a faucibus massa arcu et nunc.</p>
</blockquote>
<p>Bullet-style snippets for lists and empty states:</p>
<ul>
<li>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</li>
<li>Curabitur non risus nec magna iaculis placerat.</li>
<li>Vivamus posuere sapien et urna congue, nec dictum leo pretium.</li>
</ul>
<h2 id="estimating-length-and-reading-time">Estimating length and reading time</h2>
<ul>
<li>Rough words from characters: words ≈ characters / 5 (English-like text).</li>
<li>Approximate reading time: minutes ≈ words / 200 (average adult silent reading).</li>
</ul>
<p>Use these only to size blocks; always validate with real copy before release.</p>
<h2 id="seo-and-analytics-hygiene">SEO and analytics hygiene</h2>
<ul>
<li>Exclude from indexing: Apply <code>noindex</code>/<code>nofollow</code> to non-production environments and preview routes.</li>
<li>Share cards: Prevent Open Graph/Twitter cards from exposing placeholder text.</li>
<li>Sitemaps: Don’t include placeholder pages in production sitemaps.</li>
</ul>
<h2 id="team-checklist">Team checklist</h2>
<p>Do:</p>
<ul>
<li>Replace placeholder text with draft content before usability testing.</li>
<li>Set <code>lang</code> appropriately or hide decorative filler from assistive tech.</li>
<li>Add CI checks to prevent “lorem ipsum” in production.</li>
</ul>
<p>Don’t:</p>
<ul>
<li>Approve critical flows (checkout, consent) with placeholder copy.</li>
<li>Rely on Latin filler for non-Latin layouts.</li>
<li>Use placeholders in analytics experiments or A/B tests.</li>
</ul>
<h2 id="example-latin-passage">Example Latin passage</h2>
<p>A canonical block often used for typography specimens:</p>
<blockquote>
<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
</blockquote>
<h2 id="math-demo-typography-rendering">Math demo (typography rendering)</h2>
<p>The following formula is included to exercise math rendering in layouts:</p>
<span class="math-block">\sum_{i=0}^{n} r^i = \frac{r^{n+1} - 1}{r - 1} \quad \text{for } r \neq 1</span>

            </div>

            <!-- Navigation -->
            
        </article>
    </div>
</div>

<!-- Mobile TOC Toggle -->
<button id="mobile-toc-toggle" class="lg:hidden fixed bottom-8 right-8 bg-gradient-to-r from-blue-600 to-blue-700 text-white p-4 rounded-full shadow-2xl hover:shadow-blue-500/30 hover:scale-110 transition-all duration-300 z-50">
    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
    </svg>
</button>

<!-- Mobile TOC Overlay -->
<div id="mobile-toc" class="lg:hidden fixed inset-0 bg-black/60 backdrop-blur-sm z-40 hidden">
    <div class="fixed right-0 top-0 h-full w-80 bg-secondary/95 backdrop-blur-md border-l border-gray-700/50 p-8 overflow-y-auto">
        <div class="flex justify-between items-center mb-8">
            <h3 class="text-lg font-bold text-gray-300 uppercase tracking-wider">Table of Contents</h3>
            <button id="close-mobile-toc" class="text-gray-400 hover:text-white p-2 rounded-full hover:bg-gray-700/50 transition-colors">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                </svg>
            </button>
        </div>
        <div id="mobile-toc-content" class="space-y-1">
            <!-- TOC content will be duplicated here -->
        </div>
    </div>
</div>

<script>
    // Language Switcher
    const languageSelect = document.getElementById('language-select');
    if (languageSelect) {
        languageSelect.addEventListener('change', function() {
            window.location.href = this.value;
        });
    }

    // Generate Table of Contents
    function generateTOC() {
        const content = document.getElementById('page-content');
        const toc = document.getElementById('toc');
        const mobileTocContent = document.getElementById('mobile-toc-content');

        if (!content || !toc) {
            return;
        }

        const headings = content.querySelectorAll('h1, h2, h3, h4, h5, h6');

        if (headings.length === 0) {
            return;
        }

        let tocHTML = '';

        headings.forEach((heading, index) => {
            // Create ID if not exists
            if (!heading.id) {
                heading.id = heading.textContent.toLowerCase()
                    .replace(/[^a-z0-9]+/g, '-')
                    .replace(/(^-|-$)/g, '');
            }

            const level = parseInt(heading.tagName.charAt(1));
            const indent = (level - 1) * 12;

            tocHTML += `
                <a href="#${heading.id}"
                   class="toc-link relative block rounded-lg hover:text-white transition-all duration-200"
                   style="margin-left: ${indent}px; padding-left: calc(${indent}px + 12px)"
                   data-heading="${heading.id}">
                    ${heading.textContent}
                </a>
            `;
        });

        toc.innerHTML = tocHTML;
        if (mobileTocContent) {
            mobileTocContent.innerHTML = tocHTML;
        }

        // Add click handlers for TOC links
        document.querySelectorAll('.toc-link').forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const targetId = link.getAttribute('href').substring(1);
                const targetElement = document.getElementById(targetId);
                if (targetElement) {
                    targetElement.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });

                    // Close mobile TOC if open
                    const mobileTocModal = document.getElementById('mobile-toc');
                    if (mobileTocModal) {
                        mobileTocModal.classList.add('hidden');
                    }

                    // Update highlight after scroll
                    setTimeout(() => {
                        highlightCurrentSection();
                    }, 500);
                }
            });
        });
    }

    // Highlight current section in TOC
    function highlightCurrentSection() {
        const headings = document.querySelectorAll('#page-content h1, #page-content h2, #page-content h3, #page-content h4, #page-content h5, #page-content h6');
        const tocLinks = document.querySelectorAll('.toc-link');

        if (headings.length === 0 || tocLinks.length === 0) {
            return;
        }

        let currentHeading = null;
        let closestDistance = Infinity;

        // Find the heading closest to the top of the viewport
        headings.forEach(heading => {
            const rect = heading.getBoundingClientRect();
            const distance = Math.abs(rect.top - 120); // Account for header height

            if (rect.top <= 160 && distance < closestDistance) {
                closestDistance = distance;
                currentHeading = heading.id;
            }
        });

        // If no heading is above the fold, highlight the first one when we're at the top
        if (!currentHeading && headings.length > 0) {
            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            if (scrollTop < 200) {
                currentHeading = headings[0].id;
            }
        }

        // Update TOC links
        tocLinks.forEach(link => {
            const headingId = link.getAttribute('data-heading');
            if (headingId === currentHeading) {
                link.classList.add('active');
            } else {
                link.classList.remove('active');
            }
        });
    }

    // Mobile TOC functionality
    const mobileTocToggle = document.getElementById('mobile-toc-toggle');
    const mobileToc = document.getElementById('mobile-toc');
    const closeMobileToc = document.getElementById('close-mobile-toc');

    if (mobileTocToggle) {
        mobileTocToggle.addEventListener('click', () => {
            mobileToc.classList.remove('hidden');
        });
    }

    if (closeMobileToc) {
        closeMobileToc.addEventListener('click', () => {
            mobileToc.classList.add('hidden');
        });
    }

    // Close mobile TOC when clicking overlay
    if (mobileToc) {
        mobileToc.addEventListener('click', (e) => {
            if (e.target === mobileToc) {
                mobileToc.classList.add('hidden');
            }
        });
    }

    // Initialize
    document.addEventListener('DOMContentLoaded', () => {
        generateTOC();

        // Initial highlight
        setTimeout(() => {
            highlightCurrentSection();
        }, 100);

        // Update TOC highlight on scroll with throttling
        let scrollTimeout;
        window.addEventListener('scroll', () => {
            if (scrollTimeout) {
                clearTimeout(scrollTimeout);
            }
            scrollTimeout = setTimeout(highlightCurrentSection, 50);
        });

        // Update on resize
        window.addEventListener('resize', highlightCurrentSection);
    });
</script>

    </main>

    <!-- Search Modal -->
    <div id="search-modal" class="fixed inset-0 bg-transparent bg-opacity-70 backdrop-blur-sm z-50 hidden">
        <div class="flex items-start justify-center min-h-screen pt-16 px-4">
            <div id="search-modal-panel" class="bg-primary border border-gray-700 rounded-lg w-full max-w-2xl shadow-xl">
                <div class="p-4 border-b border-gray-700">
                    <div class="relative">
                        <input
                            type="text"
                            id="modal-search-input"
                            placeholder="Search for anything..."
                            class="w-full px-4 py-3 text-lg bg-black from-secondary/90 via-secondary/80 to-tertiary/70 backdrop-blur-md border border-gray-500/50 rounded-lg text-gray-100 hover:from-secondary hover:to-tertiary hover:shadow-2xl hover:shadow-blue-500/20 transition-all duration-500 ease-out focus:outline-none focus:ring-4 focus:ring-blue-500/60 placeholder-gray-400"
                            autofocus
                        >
                        <div class="absolute inset-y-0 right-0 flex items-center pr-4">
                            <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m21 21-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                            </svg>
                        </div>
                    </div>
                </div>
                <div id="modal-search-results" class="max-h-96 overflow-y-auto">
                    <div class="p-4 text-gray-400 text-center">
                        Start typing to search...
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Search functionality -->
    
    
    
    <script defer src="https://zokipedia.hahwul.com/search_index.en.js"></script>
    <script defer src="https://zokipedia.hahwul.com/search_index.js"></script>
    <script>
        // Search functionality (Fuse.js)
        let fuse;
        let searchIndex = [];

        async function loadSearchIndex() {
            // Use preloaded window.searchIndex if available
            if (Array.isArray(window.searchIndex) && window.searchIndex.length) {
                return normalizeIndex(window.searchIndex);
            }
            const candidates = [
                "https://zokipedia.hahwul.com/search_index.en.json",
                "https://zokipedia.hahwul.com/search_index.en.js",
                "https://zokipedia.hahwul.com/search_index.json",
                "https://zokipedia.hahwul.com/search_index.js"
            ];

            for (const url of candidates) {
                try {
                    const res = await fetch(url, { cache: 'no-store' });
                    if (!res.ok) continue;

                    if (url.endsWith('.json')) {
                        const data = await res.json();
                        return normalizeIndex(data);
                    } else {
                        const text = await res.text();
                        // window.searchIndex = [...]
                        let m = text.match(/window\.searchIndex\s*=\s*(\[.*?\]);/s);
                        if (m) return normalizeIndex(JSON.parse(m[1]));
                        // var/let/const searchIndex = [...]
                        m = text.match(/(?:var|let|const)\s+searchIndex\s*=\s*(\[.*?\]);/s);
                        if (m) return normalizeIndex(JSON.parse(m[1]));
                        // searchIndex = JSON.parse('...')
                        m = text.match(/searchIndex\s*=\s*JSON\.parse\(\s*(['"])([\s\S]*?)\1\s*\)/s);
                        if (m) return normalizeIndex(JSON.parse(m[2]));
                    }
                } catch (_) {
                    // try next candidate
                }
            }
            return [];
        }

        function normalizeIndex(raw) {
            if (!Array.isArray(raw)) return [];
            return raw.map(d => ({
                title: d.title || d.name || '',
                permalink: d.permalink || d.path || d.url || '#',
                description: d.description || d.summary || '',
                body: d.body || d.content || ''
            }));
        }

        function initFuse(docs) {
            searchIndex = docs;
            fuse = new Fuse(searchIndex, {
                includeScore: true,
                threshold: 0.3,
                minMatchCharLength: 2,
                keys: [
                    { name: 'title', weight: 0.6 },
                    { name: 'description', weight: 0.3 },
                    { name: 'body', weight: 1.0 }
                ]
            });
        }

        // Kick off loading (wait for Fuse to be available)
        function whenFuseReady(cb) {
            if (window.Fuse) return cb();
            const start = Date.now();
            (function check() {
                if (window.Fuse) return cb();
                if (Date.now() - start > 5000) return cb(); // timeout after 5s to avoid blocking
                setTimeout(check, 30);
            })();
        }
        function bootSearch() {
            whenFuseReady(() => {
                // Prefer preloaded window.searchIndex if it appears shortly
                const start = Date.now();
                (function waitForWindowIndex() {
                    if (Array.isArray(window.searchIndex) && window.searchIndex.length) {
                        initFuse(normalizeIndex(window.searchIndex));
                        return;
                    }
                    if (Date.now() - start > 5000) {
                        // Fallback to fetching
                        loadSearchIndex().then(initFuse);
                        return;
                    }
                    setTimeout(waitForWindowIndex, 30);
                })();
            });
        }
        bootSearch();

        // Modal functionality
                const searchModal = document.getElementById('search-modal');
                const modalSearchInput = document.getElementById('modal-search-input');
                const modalSearchResults = document.getElementById('modal-search-results');
                let suppressOutsideCloseUntil = 0;

        function openSearch(e) {
            if (e) {
                e.preventDefault();
                e.stopPropagation();
            }
            // Delay opening to avoid being closed by the same click event that triggered it
            suppressOutsideCloseUntil = Date.now() + 200;
            setTimeout(() => {
                searchModal.classList.remove('hidden');
                setTimeout(() => modalSearchInput.focus(), 100);
            }, 0);
        }

        function closeSearch() {
            searchModal.classList.add('hidden');
            modalSearchInput.value = '';
            modalSearchResults.innerHTML = '<div class="p-4 text-gray-400 text-center">Start typing to search...</div>';
        }

        // Keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            if ((e.metaKey || e.ctrlKey) && e.key.toLowerCase() === 'k') {
                e.preventDefault();
                openSearch(e);
            }
            if (e.key === 'Escape') {
                closeSearch();
            }
        });

        // Modal click outside to close

        document.addEventListener('click', function(e) {
            if (Date.now() < suppressOutsideCloseUntil) return;
            if (!searchModal.classList.contains('hidden')) {
                const panel = document.getElementById('search-modal-panel');
                if (panel && !panel.contains(e.target)) {
                    closeSearch();
                }
            }
        });

        // Search input handler
        modalSearchInput.addEventListener('input', function(e) {
            const query = e.target.value.trim();

            if (query.length < 2) {
                modalSearchResults.innerHTML = '<div class="p-4 text-gray-400 text-center">Start typing to search...</div>';
                return;
            }

            if (!fuse) {
                modalSearchResults.innerHTML = '<div class="p-4 text-gray-400 text-center">Search index loading...</div>';
                return;
            }

            const results = fuse.search(query, { limit: 10 });
            displayModalSearchResults(results);
        });

        function escapeHtml(str) {
            return str.replace(/[&<>"']/g, s => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[s]));
        }

        function displayModalSearchResults(results) {
            if (results.length === 0) {
                modalSearchResults.innerHTML = '<div class="p-4 text-gray-400 text-center">No results found.</div>';
                return;
            }

            const html = results.map(result => {
                const item = result.item;
                const rawExcerpt = item.description || item.body || '';
                const excerpt = rawExcerpt.substring(0, 200) + (rawExcerpt.length > 200 ? '...' : '');
                return `
                    <a href="${item.permalink}" class="block p-4 hover:bg-gray-700 border-b border-gray-700 last:border-b-0 transition-colors">
                        <div class="font-semibold text-white mb-1">${escapeHtml(item.title)}</div>
                        <div class="text-sm text-gray-400 leading-relaxed">${escapeHtml(excerpt)}</div>
                    </a>
                `;
            }).join('');

            modalSearchResults.innerHTML = html;
        }

        // Keyboard navigation in modal
        let selectedIndex = -1;

        modalSearchInput.addEventListener('keydown', function(e) {
            const items = modalSearchResults.querySelectorAll('a');

            if (e.key === 'ArrowDown') {
                e.preventDefault();
                selectedIndex = Math.min(selectedIndex + 1, items.length - 1);
                updateModalSelection(items);
            } else if (e.key === 'ArrowUp') {
                e.preventDefault();
                selectedIndex = Math.max(selectedIndex - 1, -1);
                updateModalSelection(items);
            } else if (e.key === 'Enter' && selectedIndex >= 0 && items[selectedIndex]) {
                e.preventDefault();
                items[selectedIndex].click();
            }
        });

        function updateModalSelection(items) {
            items.forEach((item, index) => {
                if (index === selectedIndex) {
                    item.classList.add('bg-gray-700');
                } else {
                    item.classList.remove('bg-gray-700');
                }
            });
        }

        // Mobile menu functionality
        const mobileMenuToggle = document.getElementById('mobile-menu-toggle');
        const mobileMenu = document.getElementById('mobile-menu');

        if (mobileMenuToggle && mobileMenu) {
            mobileMenuToggle.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
            });

            // Close mobile menu when clicking outside
            document.addEventListener('click', (e) => {
                if (!mobileMenuToggle.contains(e.target) && !mobileMenu.contains(e.target)) {
                    mobileMenu.classList.add('hidden');
                }
            });
        }
    </script>
    <script>
        // Mermaid initialization
        mermaid.initialize({
            startOnLoad: true,
            theme: 'dark'
        });
    </script>
    <script>
        // KaTeX manual rendering for math blocks
        document.addEventListener("DOMContentLoaded", function() {
            // Wait for KaTeX to be available
            if (typeof katex === 'undefined') {
                console.error('KaTeX is not loaded');
                return;
            }
            
            // Render display math blocks (created by math shortcode)
            document.querySelectorAll('.math-block').forEach(function(element) {
                try {
                    katex.render(element.textContent, element, {
                        displayMode: true,
                        throwOnError: false
                    });
                } catch (e) {
                    console.error('KaTeX render error:', e);
                }
            });
            
            // Render inline math with $ delimiters
            function renderInlineMath(node) {
                if (node.nodeType === Node.TEXT_NODE) {
                    const text = node.textContent;
                    const regex = /\$([^\$]+)\$/g;
                    if (regex.test(text)) {
                        const span = document.createElement('span');
                        let lastIndex = 0;
                        text.replace(regex, function(match, tex, offset) {
                            span.appendChild(document.createTextNode(text.slice(lastIndex, offset)));
                            const mathSpan = document.createElement('span');
                            try {
                                katex.render(tex, mathSpan, {displayMode: false, throwOnError: false});
                            } catch (e) {
                                mathSpan.textContent = match;
                            }
                            span.appendChild(mathSpan);
                            lastIndex = offset + match.length;
                        });
                        span.appendChild(document.createTextNode(text.slice(lastIndex)));
                        node.parentNode.replaceChild(span, node);
                    }
                } else if (node.nodeType === Node.ELEMENT_NODE && node.tagName !== 'SCRIPT' && node.tagName !== 'STYLE') {
                    Array.from(node.childNodes).forEach(renderInlineMath);
                }
            }
            
            // Process inline math in content
            const content = document.querySelector('main');
            if (content) {
                renderInlineMath(content);
            }
        });
    </script>

    

    
    <footer class="bg-primary mt-16 text-gray-400">
        <div class="max-w-7xl mx-auto px-4 py-8 text-right">
            
            <nav class="flex flex-wrap gap-x-4 gap-y-2 text-sm mb-4 justify-end">
                
                
                <a href="&#x2F;terms" class="hover:text-gray-200 underline-offset-2 hover:underline"
                   >
                    Terms of Service
                </a>
                
                
                
                <a href="&#x2F;privacy" class="hover:text-gray-200 underline-offset-2 hover:underline"
                   >
                    Privacy Policy
                </a>
                
                
                
                <a href="&#x2F;contact" class="hover:text-gray-200 underline-offset-2 hover:underline"
                   >
                    Contact
                </a>
                
                
            </nav>
            

            <div class="text-xs text-gray-500 text-right">
                
                    © HAHWUL. All rights reserved.
                
            </div>
        </div>
    </footer>
    
</body>
</html>
